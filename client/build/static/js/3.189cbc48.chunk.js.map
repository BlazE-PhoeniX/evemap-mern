{"version":3,"sources":["components/sidenav/SideNavItem.js","components/sidenav/SideNav.js","components/changepassword/Form.js","pages/PasswordChange.js"],"names":["SideNavItem","props","className","active","to","link","children","SideNav","match","useRouteMatch","dispatchRedux","useDispatch","history","useHistory","logoutHandler","e","a","preventDefault","logoutUser","path","onClick","Form","useState","formError","setFormError","currentPassword","useInput","validate","value","trim","length","newPassword","confirmPassword","password","bind","formSubmitHandler","touchAll","validateAll","message","updatePassword","onSubmit","noValidate","Input","label","input","id","type","placeholder","onChange","onBlur","autoComplete","invalid","inputIsInvalid","errorMsg","PasswordChange"],"mappings":"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","file":"static/js/3.189cbc48.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst SideNavItem = props => {\n  return (\n    <li className={props.active ? \"side-nav--active\" : \"\"}>\n      <Link to={props.link}>{props.children}</Link>\n    </li>\n  );\n};\n\nexport default SideNavItem;\n","import { useDispatch } from \"react-redux\";\nimport { useHistory, useRouteMatch } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { logoutUser } from \"../../store/auth\";\nimport SideNavItem from \"./SideNavItem\";\n\nconst SideNav = props => {\n  const match = useRouteMatch();\n  const dispatchRedux = useDispatch();\n  const history = useHistory();\n\n  const logoutHandler = async e => {\n    e.preventDefault();\n    dispatchRedux(logoutUser(history));\n  };\n\n  return (\n    <nav className=\"user-view__menu\">\n      <ul className=\"side-nav\">\n        <SideNavItem link=\"/me\" active={match.path === \"/me\" ? true : false}>\n          My profile\n        </SideNavItem>\n        <SideNavItem\n          link=\"/events\"\n          active={match.path === \"/events\" ? true : false}>\n          My events\n        </SideNavItem>\n        <SideNavItem\n          link=\"/change-password\"\n          active={match.path === \"/change-password\" ? true : false}>\n          Change Password\n        </SideNavItem>\n        <li className=\"side-nav--logout\">\n          <Link onClick={logoutHandler} to=\"/\">\n            logout\n          </Link>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default SideNav;\n","import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport useInput, { touchAll, validateAll } from \"../../hooks/use-input\";\nimport { updatePassword } from \"../../store/auth\";\nimport Input from \"../ui/Input\";\n\nconst Form = props => {\n  const [formError, setFormError] = useState(null);\n  const dispatchRedux = useDispatch();\n\n  const currentPassword = useInput({\n    validate: value => value.trim().length >= 8,\n  });\n  const newPassword = useInput({ validate: value => value.trim().length >= 8 });\n  const confirmPassword = useInput({\n    validate: ((password, value) =>\n      value !== \"\" && value === password.value).bind(null, newPassword),\n  });\n\n  const formSubmitHandler = async e => {\n    e.preventDefault();\n    setFormError(null);\n    touchAll(currentPassword, newPassword, confirmPassword);\n\n    if (!validateAll(currentPassword, newPassword, confirmPassword)) {\n      setFormError({ message: \"Provide valid details to continue.\" });\n      return;\n    }\n\n    dispatchRedux(\n      updatePassword({ currentPassword, newPassword, confirmPassword })\n    );\n  };\n\n  return (\n    <form\n      onSubmit={formSubmitHandler}\n      noValidate\n      className=\"form form-user-password\">\n      {formError && <p className=\"form-error\">{formError.message}</p>}\n      <Input\n        label=\"Current password\"\n        input={{\n          className: \"form__input\",\n          id: \"password-current\",\n          type: \"password\",\n          placeholder: \"••••••••\",\n          value: currentPassword.value,\n          onChange: currentPassword.onChange,\n          onBlur: currentPassword.onBlur,\n          autoComplete: \"off\",\n        }}\n        invalid={currentPassword.inputIsInvalid}\n        errorMsg=\"Password must be greater than 7 characters\"\n      />\n      <Input\n        label=\"Password\"\n        input={{\n          className: \"form__input\",\n          id: \"password\",\n          type: \"password\",\n          placeholder: \"••••••••\",\n          value: newPassword.value,\n          onChange: newPassword.onChange,\n          onBlur: newPassword.onBlur,\n          autoComplete: \"off\",\n        }}\n        invalid={newPassword.inputIsInvalid}\n        errorMsg=\"Password must be greater than 7 characters\"\n      />\n      <Input\n        className=\"ma-bt-lg\"\n        label=\"Confirm Password\"\n        input={{\n          className: \"form__input\",\n          id: \"password-confirm\",\n          type: \"password\",\n          placeholder: \"••••••••\",\n          value: confirmPassword.value,\n          onChange: confirmPassword.onChange,\n          onBlur: confirmPassword.onBlur,\n          autoComplete: \"off\",\n        }}\n        invalid={confirmPassword.inputIsInvalid}\n        errorMsg=\"Confirm password doesn't match new password\"\n      />\n      <div className=\"form__group right\">\n        <button className=\"btn btn--green btn--small\">Change password</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import Form from \"../components/changepassword/Form\";\nimport SideNav from \"../components/sidenav/SideNav\";\n\nconst PasswordChange = props => {\n  return (\n    <main className=\"main\">\n      <div className=\"user-view\">\n        <SideNav />\n        <div className=\"user-view__content\">\n          <div className=\"user-view__form-container\">\n            <h2 className=\"heading-secondary ma-bt-md\">Password change</h2>\n            <Form />\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default PasswordChange;\n"],"sourceRoot":""}