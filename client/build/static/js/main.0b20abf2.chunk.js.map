{"version":3,"sources":["utils/map.js","pages/Events.js","store/coords.js","store/index.js","components/layout/Layout.js","components/ui/Alert.js","components/ui/Loader.js","components/coordsgetter/Form.js","components/ui/CoordsGetter.js","components/modal/TableInput.js","components/modal/Form.js","components/modal/Modal.js","resources/map.svg","resources/open.svg","components/events/Event.js","components/events/EventsList.js","resources/search.svg","components/sidebar/Controls.js","components/sidebar/Sidebar.js","components/map/Map.js","App.js","index.js","components/layout/Logo.js","resources/logo.png","resources/user.svg","components/layout/Avatar.js","components/layout/NavItem.js","components/layout/Nav.js","components/layout/Header.js","store/events.js","store/ui.js","store/auth.js","components/ui/Input.js","hooks/use-input.js"],"names":["map","coords","eventId","coordsSlice","createSlice","name","initialState","lat","lng","reducers","addCoords","state","action","payload","removeCoords","coordsActions","actions","store","configureStore","reducer","auth","authReducer","events","eventsReducer","coordsReducer","ui","uiReducer","Header","require","default","Layout","props","children","Alert","className","type","message","Loader","Form","dispatchRedux","useDispatch","useInput","validate","value","test","trim","formSubmitHandler","e","a","preventDefault","touchAll","validateAll","localStorage","setItem","hideCoordsGetter","onSubmit","noValidate","Input","label","input","id","placeholder","onChange","onBlur","invalid","inputIsInvalid","errorMsg","CoordsGetter","target","href","rel","TableInput","inputRef","useRef","useEffect","readOnly","current","setAttribute","removeAttribute","ref","prefixZero","number","googleMapLink","useState","formError","setFormError","user","useSelector","event","date","time","description","address","eventData","find","Date","setValue","getFullYear","getMonth","getDate","getHours","getMinutes","location","coordinates","eventDate","now","getTime","updateOneEvent","closeModal","postOneEvent","deleteEvent","deleteOneEvent","editMode","onClick","showFilledModalEdit","Modal","preventClosing","useCallback","stopPropagation","onCloseModal","displayMap","mapRef","history","showModal","mapboxgl","accessToken","Map","container","style","center","zoom","addControl","MapboxGeocoder","NavigationControl","on","lngLat","push","moveToView","flyTo","Event","distance","toLocaleString","day","month","year","padStart","showFilledModal","src","openIcon","alt","mapIcon","EventsList","useLocation","query","qs","parse","search","processedEvents","setProcessedEvents","eves","searchTerm","toLowerCase","filter","startsWith","today","isToday","sort","split","array","key","asc","obj1","obj2","sortArray","TransitionGroup","CSSTransition","classNames","mountOnEnter","unmountOnExit","timeout","Controls","searchRef","useHistory","undefined","queryString","stringify","pathname","defaultValue","list","searchIcon","Sidebar","showEmptyModal","points","forEach","point","marker","Marker","color","setLngLat","addTo","popup","Popup","closeOnClick","anchor","focusAfterOpen","offset","setHTML","status","setMaxWidth","addToMap","remove","Events","setShowModal","setEditMode","dispathRedux","getAllEvents","lnglat","in","Signup","React","lazy","Login","UserAccount","PasswordChange","PasswordForget","PasswordReset","App","alert","loader","coordsGetter","dispatch","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","Error","enableHighAccuracy","console","log","latitude","longitude","getItem","showCoordsGetter","checkLogin","fallback","path","exact","to","show","ReactDOM","render","document","getElementById","Logo","Avatar","userAvatar","NavItem","Nav","months","getTimeString","timeString","setTimeString","setInterval","lat1","lon1","lat2","lon2","unit","radlat1","Math","PI","radlat2","theta","radtheta","dist","sin","cos","acos","eventsSlice","replaceEvents","round","addEvent","changeEvent","index","findIndex","eve","removeEvent","eventsActions","showLoader","axios","get","res","data","showAlert","response","hideLoader","post","resetAll","patch","delete","uiSlice","hideAlert","uiActions","setTimeout","authSlice","loginUser","_id","logoutUser","authActions","email","password","token","signupUser","creds","passwordConfirm","confirmPassword","forgetPassword","resetPassword","newPassword","removeItem","updateProfile","updatePassword","oldPassword","currentPassword","htmlFor","inputReducer","isTouched","validator","useReducer","dispatchInput","valueIsValid","isValid","touch","reset","inputs","valid"],"mappings":"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","file":"static/js/main.0b20abf2.chunk.js","sourcesContent":["import mapboxgl from \"!mapbox-gl\";\nimport MapboxGeocoder from \"@mapbox/mapbox-gl-geocoder\";\n\nlet map;\n\nexport const displayMap = async (mapRef, history, showModal, user, coords) => {\n  mapboxgl.accessToken =\n    \"pk.eyJ1IjoiYmxhemVwaG9lbml4IiwiYSI6ImNrbmFkNXJiYjBtcTYzMG55NHNycmlwdHYifQ.atR50NlMkXlMTn52AxgrfA\";\n\n  const lat = coords.lat;\n  const lng = coords.lng;\n\n  map = new mapboxgl.Map({\n    container: mapRef.current,\n    style: \"mapbox://styles/blazephoenix/ckno6lf0x0kw617mes8rxflhq\",\n    center: [lng, lat],\n    zoom: 10,\n  });\n\n  map.addControl(\n    new MapboxGeocoder({\n      accessToken: mapboxgl.accessToken,\n      mapboxgl: mapboxgl,\n    })\n  );\n  map.addControl(new mapboxgl.NavigationControl());\n\n  map.on(\"click\", async e => {\n    if (user) {\n      showModal([e.lngLat.lng, e.lngLat.lat]);\n    } else {\n      history.push(\"/login\");\n    }\n  });\n};\n\nexport const addToMap = event => {\n  const point = {};\n  point.marker = new mapboxgl.Marker({\n    color: \"#1976d2\",\n  })\n    .setLngLat(event.location.coordinates)\n    .addTo(map);\n\n  point.popup = new mapboxgl.Popup({\n    closeOnClick: false,\n    anchor: \"bottom\",\n    focusAfterOpen: false,\n    offset: 30,\n  })\n    .setLngLat(event.location.coordinates)\n    .setHTML(`<p>${event.status}</p>`)\n    .setMaxWidth(\"400px\")\n    .addTo(map);\n\n  return point;\n};\n\nexport const moveToView = async event => {\n  if (event) {\n    map.flyTo({\n      center: event.location.coordinates,\n      zoom: 13,\n    });\n  }\n};\n","import CSSTransition from \"react-transition-group/CSSTransition\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport Modal from \"../components/modal/Modal\";\nimport Sidebar from \"../components/sidebar/Sidebar\";\nimport Map from \"../components/map/Map\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllEvents } from \"../store/events\";\n\nlet coords, eventId;\n\nconst Events = props => {\n  const [showModal, setShowModal] = useState(false);\n  const [editMode, setEditMode] = useState(true);\n\n  const user = useSelector(state => state.auth.user);\n  const coordinates = useSelector(state => state.coords);\n  const dispathRedux = useDispatch();\n\n  useEffect(() => {\n    dispathRedux(getAllEvents(coordinates, user));\n  }, [dispathRedux, coordinates, user]);\n\n  const showEmptyModal = useCallback(\n    lnglat => {\n      eventId = null;\n      coords = lnglat;\n      setEditMode(true);\n      setShowModal(true);\n    },\n    [setEditMode, setShowModal]\n  );\n\n  const showFilledModal = useCallback(\n    id => {\n      coords = null;\n      eventId = id;\n      setEditMode(false);\n      setShowModal(true);\n    },\n    [setEditMode, setShowModal]\n  );\n\n  const showFilledModalEdit = useCallback(\n    id => {\n      coords = null;\n      eventId = id;\n      setEditMode(true);\n      setShowModal(true);\n    },\n    [setEditMode, setShowModal]\n  );\n\n  const closeModal = useCallback(() => {\n    setShowModal(false);\n  }, [setShowModal]);\n\n  return (\n    <>\n      <main className=\"index-box\">\n        <Sidebar showFilledModal={showFilledModal} />\n        <Map\n          showEmptyModal={showEmptyModal}\n          showFilledModal={showFilledModal}\n          showFilledModalEdit={showFilledModalEdit}\n          closeModal={closeModal}\n        />\n      </main>\n      <CSSTransition\n        mountOnEnter\n        unmountOnExit\n        in={showModal}\n        classNames=\"modal\"\n        timeout={500}>\n        <Modal\n          editMode={editMode}\n          coords={coords}\n          eventId={eventId}\n          closeModal={closeModal}\n          showFilledModalEdit={showFilledModalEdit}\n        />\n      </CSSTransition>\n    </>\n  );\n};\n\nexport default Events;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport { showCoordsGetter } from \"./ui\";\n\nconst initialState = {\n  lat: null,\n  lng: null,\n};\n\nconst coordsSlice = createSlice({\n  name: \"coords\",\n  initialState,\n  reducers: {\n    addCoords(state, action) {\n      state.lat = action.payload.lat;\n      state.lng = action.payload.lng;\n    },\n\n    removeCoords(state, action) {\n      state.lat = null;\n      state.lng = null;\n    },\n  },\n});\n\nexport const coordsActions = coordsSlice.actions;\n\nexport default coordsSlice.reducer;\n\nexport const getCoords = () => {\n  return async dispatch => {\n    let coords;\n    try {\n      coords = await new Promise(function (resolve, reject) {\n        navigator.geolocation.getCurrentPosition(\n          function (e) {\n            resolve(e.coords);\n          },\n          function () {\n            reject(new Error(\"Location permission denied\"));\n          },\n          {\n            enableHighAccuracy: true,\n          }\n        );\n      });\n    } catch (err) {\n      console.log(err.message);\n    }\n\n    if (coords) {\n      dispatch(\n        coordsActions.addCoords({\n          lat: coords.latitude,\n          lng: coords.longitude,\n        })\n      );\n    } else if (localStorage.getItem(\"coords\")) {\n      const coords = localStorage.getItem(\"coords\");\n\n      const lat = +coords.split(\",\")[0].trim();\n      const lng = +coords.split(\",\")[1].trim();\n\n      dispatch(\n        coordsActions.addCoords({\n          lat,\n          lng,\n        })\n      );\n    } else {\n      dispatch(showCoordsGetter());\n    }\n  };\n};\n","import { configureStore } from \"@reduxjs/toolkit\";\n\nimport authReducer from \"./auth\";\nimport eventsReducer from \"./events\";\nimport coordsReducer from \"./coords\";\nimport uiReducer from \"./ui\";\n\nconst store = configureStore({\n  reducer: {\n    auth: authReducer,\n    events: eventsReducer,\n    coords: coordsReducer,\n    ui: uiReducer,\n  },\n});\n\nexport default store;\n","const { default: Header } = require(\"./Header\");\n\nconst Layout = props => {\n  return (\n    <>\n      <Header />\n      {props.children}\n    </>\n  );\n};\n\nexport default Layout;\n","const Alert = props => {\n  return (\n    <div className={`alert alert--${props.type}`}>\n      <strong>{props.message}</strong>\n    </div>\n  );\n};\n\nexport default Alert;\n","const Loader = props => {\n  return (\n    <div className=\"loader-bg\">\n      <div className=\"sk-fading-circle\">\n        <div className=\"sk-circle1 sk-circle\"></div>\n        <div className=\"sk-circle2 sk-circle\"></div>\n        <div className=\"sk-circle3 sk-circle\"></div>\n        <div className=\"sk-circle4 sk-circle\"></div>\n        <div className=\"sk-circle5 sk-circle\"></div>\n        <div className=\"sk-circle6 sk-circle\"></div>\n        <div className=\"sk-circle7 sk-circle\"></div>\n        <div className=\"sk-circle8 sk-circle\"></div>\n        <div className=\"sk-circle9 sk-circle\"></div>\n        <div className=\"sk-circle10 sk-circle\"></div>\n        <div className=\"sk-circle11 sk-circle\"></div>\n        <div className=\"sk-circle12 sk-circle\"></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import { useDispatch } from \"react-redux\";\nimport useInput, { touchAll, validateAll } from \"../../hooks/use-input\";\nimport Input from \"../ui/Input\";\nimport { coordsActions } from \"../../store/coords\";\nimport { hideCoordsGetter } from \"../../store/ui\";\n\nconst Form = props => {\n  const dispatchRedux = useDispatch();\n\n  const lat = useInput({\n    validate: value =>\n      /^(\\+|-)?(?:90(?:(?:\\.0{1,6})?)|(?:[0-9]|[1-8][0-9])(?:(?:\\.[0-9]{1,6})?))$/.test(\n        value.trim()\n      ),\n  });\n  const lng = useInput({\n    validate: value =>\n      /^(\\+|-)?(?:180(?:(?:\\.0{1,6})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\\.[0-9]{1,6})?))$/.test(\n        value.trim()\n      ),\n  });\n\n  const formSubmitHandler = async e => {\n    e.preventDefault();\n    touchAll(lat, lng);\n\n    if (!validateAll(lat, lng)) {\n      return;\n    }\n\n    localStorage.setItem(\"coords\", lat.value + \", \" + lng.value);\n    dispatchRedux(coordsActions.addCoords({ lat: lat.value, lng: lng.value }));\n    dispatchRedux(hideCoordsGetter());\n  };\n\n  return (\n    <form onSubmit={formSubmitHandler} noValidate className=\"form form--coords\">\n      <Input\n        label=\"Latitude\"\n        input={{\n          className: \"form__input\",\n          id: \"lat\",\n          type: \"number\",\n          placeholder: \"12.4567890\",\n          value: lat.value,\n          onChange: lat.onChange,\n          onBlur: lat.onBlur,\n        }}\n        invalid={lat.inputIsInvalid}\n        errorMsg=\"Not a valid coordinate\"\n      />\n      <Input\n        className=\"ma-bt-lg\"\n        label=\"Longitude\"\n        input={{\n          className: \"form__input\",\n          id: \"lng\",\n          type: \"number\",\n          placeholder: \"60.1234567\",\n          value: lng.value,\n          onChange: lng.onChange,\n          onBlur: lng.onBlur,\n        }}\n        invalid={lng.inputIsInvalid}\n        errorMsg=\"Not a valid coordinate\"\n      />\n      <div className=\"form__group right\">\n        <button className=\"btn btn--green btn--small\">\n          Submit Coordinates\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import Form from \"../coordsgetter/Form\";\nimport \"./CoordsGetter.css\";\n\nconst CoordsGetter = props => {\n  return (\n    <div className=\"coords-getter-bg\">\n      <div className=\"coords-getter\">\n        <div className=\"coords-getter-ins\">\n          <h2 className=\"coords-getter-ins-header\">Instructions</h2>\n          <p className=\"coords-getter-ins-para\">\n            Since we can't get your location, You need to enter it manually!\n          </p>\n          <p className=\"coords-getter-ins-para\">\n            Don't worry this is a one time thing 😉\n          </p>\n          <p className=\"coords-getter-ins-para\">\n            click{\" \"}\n            <a\n              target=\"_blank\"\n              href=\"https://www.gps-coordinates.net/my-location\"\n              rel=\"noreferrer\">\n              here\n            </a>{\" \"}\n            to get your coordinates.\n          </p>\n          <p className=\"coords-getter-ins-para\">\n            If possible, visit the below link in mobile to get coordinates with\n            more accuracy 😁\n          </p>\n          <p className=\"coords-getter-ins-para link\">\n            https://www.gps-coordinates.net/my-location\n          </p>\n        </div>\n        <Form />\n      </div>\n    </div>\n  );\n};\n\nexport default CoordsGetter;\n","import { useEffect, useRef } from \"react\";\n\nconst TableInput = props => {\n  const inputRef = useRef();\n\n  useEffect(() => {\n    if (props.readOnly) {\n      inputRef.current.setAttribute(\"readonly\", \"true\");\n    } else {\n      inputRef.current.removeAttribute(\"readonly\");\n    }\n  }, [props.readOnly, inputRef]);\n\n  return (\n    <tr>\n      <td>{props.label}</td>\n      <td>:</td>\n      <td>\n        <input ref={inputRef} {...props.input} />\n        {props.invalid && <p className=\"input-error\">{props.errorMsg}</p>}\n      </td>\n    </tr>\n  );\n};\n\nexport default TableInput;\n","import { useEffect, useRef, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport useInput, { touchAll, validateAll } from \"../../hooks/use-input\";\nimport {\n  deleteOneEvent,\n  postOneEvent,\n  updateOneEvent,\n} from \"../../store/events\";\nimport TableInput from \"./TableInput\";\n\nconst prefixZero = number => {\n  return number < 10 ? `0${number}` : `${number}`;\n};\n\nconst Form = props => {\n  const googleMapLink = useRef();\n  const [formError, setFormError] = useState(null);\n\n  const user = useSelector(state => state.auth.user);\n  const coords = useSelector(state => state.coords);\n  const events = useSelector(state => state.events.events);\n  const dispatchRedux = useDispatch();\n\n  const event = {\n    id: useInput({ validate: value => value.trim() !== \"\" }),\n    name: useInput({ validate: value => value.trim() !== \"\" }),\n    date: useInput({ validate: value => value.trim() !== \"\" }),\n    time: useInput({ validate: value => value.trim() !== \"\" }),\n    description: useInput({ validate: value => value.trim() !== \"\" }),\n    address: useInput({ validate: value => value.trim() !== \"\" }),\n    lat: useInput({ validate: value => value.trim() !== \"\" }),\n    lng: useInput({ validate: value => value.trim() !== \"\" }),\n  };\n\n  useEffect(() => {\n    (async () => {\n      if (props.eventId) {\n        const eventData = {\n          ...events.find(event => event.id === props.eventId),\n        };\n        eventData.date = new Date(eventData.date);\n\n        event.id.setValue(eventData.id);\n        event.name.setValue(eventData.name);\n        event.date.setValue(\n          `${eventData.date.getFullYear()}-${prefixZero(\n            eventData.date.getMonth() + 1\n          )}-${prefixZero(eventData.date.getDate())}`\n        );\n        event.time.setValue(\n          `${prefixZero(eventData.date.getHours())}:${prefixZero(\n            eventData.date.getMinutes()\n          )}:00`\n        );\n        event.description.setValue(eventData.description);\n        event.address.setValue(eventData.location.address);\n        event.lat.setValue(eventData.location.coordinates[1] + \"\");\n        event.lng.setValue(eventData.location.coordinates[0] + \"\");\n\n        googleMapLink.current.href = `https://www.google.co.in/maps/@${eventData.location.coordinates[1]},${eventData.location.coordinates[0]},18z`;\n      }\n\n      if (props.coords) {\n        event.lat.setValue(props.coords[1] + \"\");\n        event.lng.setValue(props.coords[0] + \"\");\n      }\n    })();\n    //eslint-disable-next-line\n  }, []);\n\n  const formSubmitHandler = async e => {\n    e.preventDefault();\n\n    setFormError(null);\n\n    touchAll(\n      event.name,\n      event.date,\n      event.time,\n      event.description,\n      event.address\n    );\n\n    if (\n      !validateAll(\n        event.name,\n        event.date,\n        event.time,\n        event.description,\n        event.address\n      )\n    ) {\n      setFormError({ message: \"Provide all the neccessary details\" });\n      return;\n    }\n\n    const eventDate = new Date(`${event.date.value}T${event.time.value}`);\n    if (Date.now() > eventDate.getTime()) {\n      setFormError({\n        message:\n          \"Provided date and time have already passed, Please check again\",\n      });\n      return;\n    }\n\n    if (event.id.value !== \"\") {\n      dispatchRedux(updateOneEvent(event, coords, props.closeModal, user));\n    } else {\n      dispatchRedux(postOneEvent(event, coords, props.closeModal, user));\n    }\n  };\n\n  const showModal = e => {\n    props.showFilledModalEdit(event.id.value);\n  };\n\n  const deleteEvent = async () => {\n    if (event.id.value !== \"\") {\n      dispatchRedux(deleteOneEvent(event.id.value, props.closeModal, user));\n    }\n  };\n\n  return (\n    <form noValidate onSubmit={formSubmitHandler}>\n      {formError && <p className=\"form-error\">{formError.message}</p>}\n      <input\n        value={event.id.value}\n        className=\"table__input\"\n        id=\"event-id\"\n        type=\"hidden\"\n        readOnly\n      />\n      <input\n        value={event.lat.value}\n        className=\"table__input\"\n        id=\"event-lat\"\n        type=\"hidden\"\n        readOnly\n      />\n      <input\n        value={event.lng.value}\n        className=\"table__input\"\n        id=\"event-lng\"\n        type=\"hidden\"\n        readOnly\n      />\n      <table>\n        <tbody>\n          <TableInput\n            label=\"Name\"\n            input={{\n              className: \"table__input\",\n              id: \"event-name\",\n              type: \"text\",\n              value: event.name.value,\n              onChange: event.name.onChange,\n              onBlur: event.name.onBlur,\n            }}\n            invalid={event.name.inputIsInvalid}\n            errorMsg=\"Name must not be an empty string!\"\n            readOnly={!props.editMode}\n          />\n          <TableInput\n            label=\"Date\"\n            input={{\n              className: \"table__input\",\n              id: \"event-date\",\n              type: \"date\",\n              value: event.date.value,\n              onChange: event.date.onChange,\n              onBlur: event.date.onBlur,\n            }}\n            invalid={event.date.inputIsInvalid}\n            errorMsg=\"Please provide a date!\"\n            readOnly={!props.editMode}\n          />\n          <TableInput\n            label=\"Time\"\n            input={{\n              className: \"table__input\",\n              id: \"event-time\",\n              type: \"time\",\n              value: event.time.value,\n              onChange: event.time.onChange,\n              onBlur: event.time.onBlur,\n            }}\n            invalid={event.time.inputIsInvalid}\n            errorMsg=\"Please provide a time!\"\n            readOnly={!props.editMode}\n          />\n          <TableInput\n            label=\"Description\"\n            input={{\n              className: \"table__input\",\n              id: \"event-desc\",\n              type: \"text\",\n              value: event.description.value,\n              onChange: event.description.onChange,\n              onBlur: event.description.onBlur,\n            }}\n            invalid={event.description.inputIsInvalid}\n            errorMsg=\"Description must not be an empty string!\"\n            readOnly={!props.editMode}\n          />\n          <TableInput\n            label=\"Address\"\n            input={{\n              className: \"table__input\",\n              id: \"event-addr\",\n              type: \"text\",\n              value: event.address.value,\n              onChange: event.address.onChange,\n              onBlur: event.address.onBlur,\n            }}\n            invalid={event.address.inputIsInvalid}\n            errorMsg=\"Address must not be an empty string!\"\n            readOnly={!props.editMode}\n          />\n        </tbody>\n      </table>\n      <div className=\"btn-grp\">\n        {props.editMode && (\n          <button type=\"submit\" className=\"model__btn model__btn--save\">\n            Save\n          </button>\n        )}\n        {!props.editMode && (\n          <button\n            onClick={showModal}\n            type=\"button\"\n            className=\"model__btn model__btn--edit\">\n            Edit\n          </button>\n        )}\n        <button\n          type=\"button\"\n          onClick={deleteEvent}\n          className=\"model__btn model__btn--delete\">\n          Delete\n        </button>\n        <a ref={googleMapLink} className=\"maps-link\" href=\"/\" target=\"_blank\">\n          {\"Open in google maps >>\"}\n        </a>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import { useCallback } from \"react\";\nimport Form from \"./Form\";\n\nconst Modal = props => {\n  const preventClosing = useCallback(event => {\n    event.stopPropagation();\n  }, []);\n\n  return (\n    <div onClick={props.onCloseModal} className=\"modal-bg\">\n      <div onClick={preventClosing} className=\"modal\">\n        <h2 className=\"modal-header heading-secondary\">Event Details</h2>\n        <Form {...props} />\n        <span onClick={props.closeModal}>&times;</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","export default __webpack_public_path__ + \"static/media/map.1e8573c7.svg\";","export default __webpack_public_path__ + \"static/media/open.574e86a2.svg\";","import mapIcon from \"../../resources/map.svg\";\nimport openIcon from \"../../resources/open.svg\";\nimport { moveToView } from \"../../utils/map\";\n\nconst Event = props => {\n  const event = { ...props.event };\n  event.date = new Date(event.date);\n\n  const viewInMap = () => {\n    moveToView(event);\n  };\n\n  const viewDetails = () => {\n    props.showFilledModal(event.id);\n  };\n\n  return (\n    <div className=\"event\">\n      <h2 className=\"event__title\">\n        {event.name} <span>{event.distance} km</span>\n      </h2>\n      <div className=\"event__details\">\n        <span className=\"event__icon\">🗓️ &nbsp;</span>\n        <span className=\"event__value\">\n          {event.date.toLocaleString(\"en-IN\", {\n            day: \"numeric\",\n            month: \"long\",\n            year: \"numeric\",\n          })}\n        </span>\n      </div>\n      <div className=\"event__details\">\n        <span className=\"event__icon\">⏰ &nbsp;</span>\n        <span className=\"event__value\">\n          {+event.date.getHours() === 12 || +event.date.getHours() === 0\n            ? 12\n            : event.date.getHours() % 12}{\" \"}\n          : {(event.date.getMinutes() + \"\").padStart(2, \"0\")} &nbsp;\n          {event.date.getHours() < 12 ? \"AM\" : \"PM\"}\n        </span>\n      </div>\n      <div className=\"overlay\">\n        <img\n          onClick={viewDetails}\n          className=\"overlay__image overlay__image--open\"\n          src={openIcon}\n          alt=\"open icon\"\n        />\n        <img\n          onClick={viewInMap}\n          className=\"overlay__image overlay__image--map\"\n          src={mapIcon}\n          alt=\"map icon\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Event;\n","import { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport CSSTransition from \"react-transition-group/CSSTransition\";\nimport TransitionGroup from \"react-transition-group/TransitionGroup\";\nimport Event from \"./Event\";\nimport qs from \"query-string\";\nimport { useLocation } from \"react-router\";\n\nconst sortArray = (array, key, asc) => {\n  if (asc) {\n    array.sort((obj1, obj2) => {\n      if (key === \"date\") {\n        return new Date(obj1[key]).getTime() - new Date(obj2[key]).getTime();\n      }\n      return obj1[key] - obj2[key];\n    });\n  } else {\n    array.sort((obj1, obj2) => {\n      if (key === \"date\") {\n        return new Date(obj2[key]).getTime() - new Date(obj1[key]).getTime();\n      }\n      return obj2[key] - obj1[key];\n    });\n  }\n};\n\nconst isToday = date => {\n  const today = new Date();\n  return (\n    date.getFullYear() === today.getFullYear() &&\n    date.getMonth() === today.getMonth() &&\n    date.getDate() === today.getDate()\n  );\n};\n\nconst EventsList = props => {\n  const events = useSelector(state => state.events.events);\n  const location = useLocation();\n  const query = qs.parse(location.search);\n  const [processedEvents, setProcessedEvents] = useState(events);\n\n  useEffect(() => {\n    let eves = [...events];\n    if (query.search) {\n      const searchTerm = query.search.toLowerCase();\n      eves = eves.filter(event =>\n        event.name.toLowerCase().startsWith(searchTerm)\n      );\n    }\n\n    if (query.filter) {\n      if (query.filter === \"today\") {\n        eves = eves.filter(event => isToday(new Date(event.date)));\n      }\n\n      if (query.filter === \"within-50km\") {\n        eves = eves.filter(event => event.distance <= 50);\n      }\n    }\n\n    if (query.sort) {\n      const [key, order] = query.sort.split(\"-\");\n      sortArray(eves, key, order === \"asc\");\n    }\n\n    setProcessedEvents(eves);\n  }, [events, query.filter, query.search, query.sort]);\n\n  return (\n    <TransitionGroup className=\"events\">\n      {processedEvents.map(event => (\n        <CSSTransition\n          classNames=\"event\"\n          key={event.id}\n          mountOnEnter\n          unmountOnExit\n          timeout={300}>\n          <Event event={event} showFilledModal={props.showFilledModal} />\n        </CSSTransition>\n      ))}\n    </TransitionGroup>\n  );\n};\n\nexport default EventsList;\n","export default __webpack_public_path__ + \"static/media/search.a2b5995f.svg\";","import searchIcon from \"../../resources/search.svg\";\nimport { useHistory, useLocation } from \"react-router\";\nimport qs from \"query-string\";\nimport { useRef } from \"react\";\n\nconst Controls = props => {\n  const searchRef = useRef();\n  const history = useHistory();\n  const location = useLocation();\n  const query = qs.parse(location.search);\n\n  const sortHandler = e => {\n    query.sort = e.target.value !== \"\" ? e.target.value : undefined;\n    const queryString = qs.stringify(query);\n    history.push(location.pathname + \"?\" + queryString);\n  };\n\n  const filterHandler = e => {\n    query.filter = e.target.value !== \"\" ? e.target.value : undefined;\n    const queryString = qs.stringify(query);\n    history.push(location.pathname + \"?\" + queryString);\n  };\n\n  const searchHandler = e => {\n    e.preventDefault();\n    query.search =\n      searchRef.current.value.trim() !== \"\"\n        ? searchRef.current.value.trim()\n        : undefined;\n    const queryString = qs.stringify(query);\n    history.push(location.pathname + \"?\" + queryString);\n  };\n\n  return (\n    <div className=\"options-box\">\n      <form onSubmit={searchHandler} className=\"search-div\">\n        <input\n          defaultValue={query.search || \"\"}\n          ref={searchRef}\n          className=\"search-bar\"\n          list=\"events-name\"\n          placeholder=\"Search with name\"\n        />\n        <datalist id=\"events-name\"></datalist>\n        <button className=\"search-btn\" type=\"submit\">\n          <img src={searchIcon} alt=\"search icon\" />\n        </button>\n      </form>\n      <div className=\"sidebar__btn-grp\">\n        <select\n          defaultValue={query.sort || \"\"}\n          onChange={sortHandler}\n          className=\"select select--sort\">\n          <option default=\"default\" value=\"\">\n            Sort\n          </option>\n          <option value=\"date-asc\">Date &uarr;</option>\n          <option value=\"date-desc\">Date &darr;</option>\n          <option value=\"distance-asc\">Distance &uarr;</option>\n          <option value=\"distance-desc\">Distance &darr;</option>\n        </select>\n        <select\n          defaultValue={query.filter || \"\"}\n          onChange={filterHandler}\n          className=\"select select--filter\">\n          <option default=\"default\" value=\"\">\n            Filter\n          </option>\n          <option value=\"today\">Today events</option>\n          <option value=\"within-50km\">Within 50 kms</option>\n        </select>\n      </div>\n    </div>\n  );\n};\n\nexport default Controls;\n","import EventsList from \"../events/EventsList\";\nimport Controls from \"./Controls\";\n\nconst Sidebar = props => {\n  return (\n    <div className=\"sidebar\">\n      <Controls />\n      <EventsList showFilledModal={props.showFilledModal} />\n      <footer className=\"footer\">\n        <p>&copy; Mini-project by group 3</p>\n      </footer>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import { useState, useEffect, useRef } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { displayMap, addToMap } from \"../../utils/map\";\nimport { useSelector } from \"react-redux\";\nimport qs from \"query-string\";\nimport { useLocation } from \"react-router\";\n\nimport \"./map.css\";\nimport \"./map-geocoder.css\";\n\nconst sortArray = (array, key, asc) => {\n  if (asc) {\n    array.sort((obj1, obj2) => {\n      if (key === \"date\") {\n        return new Date(obj1[key]).getTime() - new Date(obj2[key]).getTime();\n      }\n      return obj1[key] - obj2[key];\n    });\n  } else {\n    array.sort((obj1, obj2) => {\n      if (key === \"date\") {\n        return new Date(obj2[key]).getTime() - new Date(obj1[key]).getTime();\n      }\n      return obj2[key] - obj1[key];\n    });\n  }\n};\n\nconst isToday = date => {\n  const today = new Date();\n  return (\n    date.getFullYear() === today.getFullYear() &&\n    date.getMonth() === today.getMonth() &&\n    date.getDate() === today.getDate()\n  );\n};\n\nconst Map = props => {\n  const mapRef = useRef();\n  const history = useHistory();\n  const user = useSelector(state => state.auth.user);\n  const coords = useSelector(state => state.coords);\n  const events = useSelector(state => state.events.events);\n  const location = useLocation();\n  const query = qs.parse(location.search);\n  const [processedEvents, setProcessedEvents] = useState(events);\n\n  useEffect(() => {\n    let eves = [...events];\n\n    if (query.search) {\n      const searchTerm = query.search.toLowerCase();\n      eves = eves.filter(event =>\n        event.name.toLowerCase().startsWith(searchTerm)\n      );\n    }\n\n    if (query.filter) {\n      if (query.filter === \"today\") {\n        eves = eves.filter(event => isToday(new Date(event.date)));\n      }\n\n      if (query.filter === \"within-50km\") {\n        eves = eves.filter(event => event.distance <= 50);\n      }\n    }\n\n    if (query.sort) {\n      const [key, order] = query.sort.split(\"-\");\n      sortArray(eves, key, order === \"asc\");\n    }\n\n    setProcessedEvents(eves);\n  }, [events, query.filter, query.search, query.sort]);\n\n  useEffect(() => {\n    displayMap(mapRef, history, props.showEmptyModal, user, coords);\n  }, [mapRef, history, props.showEmptyModal, user, coords]);\n\n  useEffect(() => {\n    const points = [];\n    processedEvents.forEach(event => {\n      points.push(addToMap(event));\n    });\n\n    return () => {\n      points.forEach(point => {\n        point.marker.remove();\n        point.popup.remove();\n      });\n    };\n  }, [processedEvents]);\n\n  return <div ref={mapRef} id=\"map\"></div>;\n};\n\nexport default Map;\n","import React, { Suspense } from \"react\";\nimport { Redirect, Route, Switch } from \"react-router\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport CSSTransition from \"react-transition-group/CSSTransition\";\nimport { checkLogin } from \"./store/auth\";\nimport { getCoords } from \"./store/coords\";\n\nimport \"./App.css\";\nimport Layout from \"./components/layout/Layout\";\nimport Alert from \"./components/ui/Alert\";\nimport Loader from \"./components/ui/Loader\";\nimport CoordsGetter from \"./components/ui/CoordsGetter\";\nimport Events from \"./pages/Events\";\n\nconst Signup = React.lazy(() => import(\"./pages/Signup\"));\nconst Login = React.lazy(() => import(\"./pages/Login\"));\nconst UserAccount = React.lazy(() => import(\"./pages/UserAccount\"));\nconst PasswordChange = React.lazy(() => import(\"./pages/PasswordChange\"));\nconst PasswordForget = React.lazy(() => import(\"./pages/PasswordForget\"));\nconst PasswordReset = React.lazy(() => import(\"./pages/PasswordReset\"));\n\nfunction App() {\n  const dispatchRedux = useDispatch();\n  const user = useSelector(state => state.auth.user);\n  const alert = useSelector(state => state.ui.alert);\n  const loader = useSelector(state => state.ui.loader);\n  const coordsGetter = useSelector(state => state.ui.coordsGetter);\n\n  useEffect(() => {\n    dispatchRedux(getCoords());\n\n    (async () => {\n      dispatchRedux(checkLogin());\n    })();\n  }, [dispatchRedux]);\n\n  const fallback = <Loader />;\n\n  return (\n    <Layout>\n      <Suspense fallback={fallback}>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Redirect to=\"/events\" />\n          </Route>\n          <Route path=\"/events\">\n            <Events />\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/signup\">\n            <Signup />\n          </Route>\n          <Route path=\"/forget-password\">\n            <PasswordForget />\n          </Route>\n          <Route path=\"/reset-password/:token\">\n            <PasswordReset />\n          </Route>\n          {user && (\n            <Route path=\"/me\">\n              <UserAccount />\n            </Route>\n          )}\n          {user && (\n            <Route path=\"/change-password\">\n              <PasswordChange />\n            </Route>\n          )}\n          <Route path=\"*\">\n            <Redirect to=\"/events\" />\n          </Route>\n        </Switch>\n      </Suspense>\n      <CSSTransition\n        in={alert.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={150}\n        classNames=\"alert\">\n        <Alert type={alert.type} message={alert.message} />\n      </CSSTransition>\n      <CSSTransition\n        in={loader.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={100}\n        classNames=\"loader\">\n        <Loader />\n      </CSSTransition>\n      <CSSTransition\n        in={coordsGetter.show}\n        mountOnEnter\n        unmountOnExit\n        timeout={300}\n        classNames=\"coords-getter\">\n        <CoordsGetter />\n      </CSSTransition>\n    </Layout>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/index\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n","import { Link } from \"react-router-dom\";\nimport logo from \"../../resources/logo.png\";\n\nconst Logo = props => {\n  return (\n    <div className=\"header__logo\">\n      <Link to=\"/\">\n        <img src={logo} alt=\"Evemap logo\" />\n      </Link>\n    </div>\n  );\n};\n\nexport default Logo;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAABgCAYAAABYFz0dAAAAiHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVY7LDcMwDEPvmqIj6GfKGqcwEqAbdPzKcdDA70BSgkCIju/npNdE2MlbdCTAhaenvit0XhizKMv00sXtJpW0xnsm0xWQPdifQ3feaIaOMzwCDQNDq10Ps0vFhK6rWTZfyado/L/a99j7mX79ci0Vtu6i1wAACgRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSIyMDAiCiAgIGV4aWY6UGl4ZWxZRGltZW5zaW9uPSI5NiIKICAgdGlmZjpJbWFnZVdpZHRoPSIyMDAiCiAgIHRpZmY6SW1hZ2VIZWlnaHQ9Ijk2IgogICB0aWZmOk9yaWVudGF0aW9uPSIxIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg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\"","export default __webpack_public_path__ + \"static/media/user.c3e20417.svg\";","import userAvatar from \"../../resources/user.svg\";\n\nconst Avatar = props => {\n  return <img className=\"nav__user-img\" src={userAvatar} alt=\"user svg\" />;\n};\n\nexport default Avatar;\n","import { Link } from \"react-router-dom\";\n\nconst NavItem = props => {\n  return (\n    <Link className={\"nav__el \" + props.className} to={props.href}>\n      {props.children}\n    </Link>\n  );\n};\n\nexport default NavItem;\n","import Avatar from \"./Avatar\";\nimport NavItem from \"./NavItem\";\n\nconst Nav = props => {\n  return (\n    <nav className=\"nav nav--user\">\n      {props.user && (\n        <>\n          <NavItem className=\"nav__el-user\" href=\"/me\">\n            <Avatar /> {props.user.name}\n          </NavItem>\n          <NavItem className=\"nav__el--cta\" href=\"/me\">\n            Profile\n          </NavItem>\n        </>\n      )}\n      {!props.user && (\n        <>\n          <NavItem href=\"/login\">Log in</NavItem>\n          <NavItem className=\"nav__el--cta\" href=\"/signup\">\n            Sign up\n          </NavItem>\n        </>\n      )}\n    </nav>\n  );\n};\n\nexport default Nav;\n","import Logo from \"./Logo\";\nimport { useSelector } from \"react-redux\";\n\nimport Nav from \"./Nav\";\nimport { useEffect, useState } from \"react\";\n\nconst months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\",\n];\n\nconst getDateString = date => {\n  return `${months[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`;\n};\n\nconst getTimeString = date => {\n  return `${date.getHours() === 12 ? 12 : date.getHours() % 12} : ${(\n    date.getMinutes() + \"\"\n  ).padStart(2, \"0\")} ${date.getHours() < 12 ? \"AM\" : \"PM\"}`;\n};\n\nconst Header = props => {\n  const user = useSelector(state => state.auth.user);\n  const [timeString, setTimeString] = useState(getTimeString(new Date()));\n\n  useEffect(() => {\n    setInterval(() => {\n      setTimeString(getTimeString(new Date()));\n    }, 1000);\n  }, []);\n\n  return (\n    <header className=\"header\">\n      <nav className=\"nav nav--tours\">\n        <p className=\"nav__el nav__el--time\">\n          <span>{getDateString(new Date())}</span>\n          <span>{timeString}</span>\n        </p>\n      </nav>\n      <Logo />\n      <Nav user={user} />\n    </header>\n  );\n};\n\nexport default Header;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { resetAll } from \"../hooks/use-input\";\nimport { showAlert, showLoader, hideLoader } from \"./ui\";\n\nconst initialState = {\n  events: [],\n};\n\nfunction distance(lat1, lon1, lat2, lon2, unit) {\n  if (lat1 === lat2 && lon1 === lon2) {\n    return 0;\n  } else {\n    var radlat1 = (Math.PI * lat1) / 180;\n    var radlat2 = (Math.PI * lat2) / 180;\n    var theta = lon1 - lon2;\n    var radtheta = (Math.PI * theta) / 180;\n    var dist =\n      Math.sin(radlat1) * Math.sin(radlat2) +\n      Math.cos(radlat1) * Math.cos(radlat2) * Math.cos(radtheta);\n    if (dist > 1) {\n      dist = 1;\n    }\n    dist = Math.acos(dist);\n    dist = (dist * 180) / Math.PI;\n    dist = dist * 60 * 1.1515;\n    if (unit === \"K\") {\n      dist = dist * 1.609344;\n    }\n    if (unit === \"N\") {\n      dist = dist * 0.8684;\n    }\n    return dist;\n  }\n}\n\nconst eventsSlice = createSlice({\n  name: \"events\",\n  initialState,\n  reducers: {\n    replaceEvents(state, action) {\n      const coords = action.payload.coords;\n      const events = action.payload.events;\n\n      if (coords) {\n        events.forEach(event => {\n          event.distance = Math.round(\n            distance(\n              coords.lat,\n              coords.lng,\n              event.location.coordinates[1],\n              event.location.coordinates[0],\n              \"K\"\n            )\n          );\n        });\n      }\n\n      state.events = events;\n    },\n\n    addEvent(state, action) {\n      const coords = action.payload.coords;\n      const event = action.payload.event;\n\n      if (coords) {\n        event.distance = Math.round(\n          distance(\n            coords.lat,\n            coords.lng,\n            event.location.coordinates[1],\n            event.location.coordinates[0],\n            \"K\"\n          )\n        );\n      }\n\n      state.events.push(event);\n    },\n\n    changeEvent(state, action) {\n      const coords = action.payload.coords;\n      const event = action.payload.event;\n\n      if (coords) {\n        event.distance = Math.round(\n          distance(\n            coords.lat,\n            coords.lng,\n            event.location.coordinates[1],\n            event.location.coordinates[0],\n            \"K\"\n          )\n        );\n      }\n\n      const index = state.events.findIndex(eve => eve.id === event.id);\n      state.events[index] = event;\n    },\n\n    removeEvent(state, action) {\n      const eventId = action.payload.id;\n      state.events = state.events.filter(event => event.id !== eventId);\n    },\n  },\n});\n\nexport const eventsActions = eventsSlice.actions;\n\nexport default eventsSlice.reducer;\n\nexport const getAllEvents = (coords, user) => {\n  return async dispatch => {\n    let events = [];\n    if (user) {\n      try {\n        dispatch(showLoader());\n        const res = await axios.get(`/api/v1/events`);\n\n        events = res.data.data.events;\n      } catch (err) {\n        dispatch(showAlert(\"error\", err.response.data.message));\n      }\n      dispatch(hideLoader());\n      dispatch(eventsActions.replaceEvents({ events, coords }));\n    }\n  };\n};\n\nexport const postOneEvent = (event, coords, closeModal, user) => {\n  return async dispatch => {\n    const eventDate = new Date(`${event.date.value}T${event.time.value}`);\n    if (user) {\n      let res;\n      try {\n        dispatch(showLoader());\n        res = await axios.post(\"/api/v1/events\", {\n          name: event.name.value,\n          date: eventDate,\n          description: event.description.value,\n          location: {\n            type: \"Point\",\n            coordinates: [+event.lng.value, +event.lat.value],\n            address: event.address.value,\n          },\n        });\n\n        dispatch(showAlert(\"success\", res.data.message));\n        const eve = res.data.data.event;\n        dispatch(eventsActions.addEvent({ event: eve, coords }));\n        closeModal();\n        resetAll(\n          event.name,\n          event.date,\n          event.time,\n          event.description,\n          event.address\n        );\n      } catch (err) {\n        dispatch(showAlert(\"error\", err.response.data.message));\n      }\n      dispatch(hideLoader());\n    }\n  };\n};\n\nexport const updateOneEvent = (event, coords, closeModal, user) => {\n  return async dispatch => {\n    const eventDate = new Date(`${event.date.value}T${event.time.value}`);\n    if (user) {\n      let res;\n      try {\n        dispatch(showLoader());\n        res = await axios.patch(`/api/v1/events/${event.id.value}`, {\n          name: event.name.value,\n          date: eventDate,\n          description: event.description.value,\n          location: {\n            type: \"Point\",\n            coordinates: [+event.lng.value, +event.lat.value],\n            address: event.address.value,\n          },\n        });\n\n        dispatch(showAlert(\"success\", res.data.message));\n        const eve = res.data.data.event;\n        dispatch(eventsActions.changeEvent({ event: eve, coords }));\n\n        resetAll(\n          event.name,\n          event.date,\n          event.time,\n          event.description,\n          event.address\n        );\n\n        closeModal();\n      } catch (err) {\n        dispatch(showAlert(\"error\", err.response.data.message));\n      }\n      dispatch(hideLoader());\n    }\n  };\n};\n\nexport const deleteOneEvent = (eventId, closeModal, user) => {\n  return async dispatch => {\n    if (user) {\n      try {\n        dispatch(showLoader());\n        const res = await axios.delete(`/api/v1/events/${eventId}`);\n\n        dispatch(showAlert(\"success\", res.data.message));\n        dispatch(eventsActions.removeEvent({ id: eventId }));\n        closeModal();\n      } catch (err) {\n        dispatch(showAlert(\"error\", err.response.data.message));\n      }\n      dispatch(hideLoader());\n    }\n  };\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  alert: {\n    show: false,\n    type: \"\",\n    message: \"\",\n  },\n  loader: {\n    show: false,\n  },\n  coordsGetter: {\n    show: false,\n  },\n};\n\nconst uiSlice = createSlice({\n  name: \"ui\",\n  initialState,\n  reducers: {\n    showAlert(state, action) {\n      state.alert.show = true;\n      state.alert.type = action.payload.type;\n      state.alert.message = action.payload.message;\n    },\n\n    hideAlert(state, action) {\n      state.alert = initialState;\n    },\n\n    showLoader(state, action) {\n      state.loader.show = true;\n    },\n\n    hideLoader(state, action) {\n      state.loader.show = false;\n    },\n\n    showCoordsGetter(state, action) {\n      state.coordsGetter.show = true;\n    },\n\n    hideCoordsGetter(state, action) {\n      state.coordsGetter.show = false;\n    },\n  },\n});\n\nexport const uiActions = uiSlice.actions;\n\nexport default uiSlice.reducer;\n\nexport const showAlert = (type, message) => {\n  return dispatch => {\n    dispatch(uiActions.showAlert({ type, message }));\n\n    setTimeout(() => {\n      dispatch(uiActions.hideAlert());\n    }, 1500);\n  };\n};\n\nexport const showLoader = () => {\n  return dispatch => {\n    dispatch(uiActions.showLoader());\n  };\n};\n\nexport const hideLoader = () => {\n  return dispatch => {\n    dispatch(uiActions.hideLoader());\n  };\n};\n\nexport const showCoordsGetter = () => {\n  return dispatch => {\n    dispatch(uiActions.showCoordsGetter());\n  };\n};\n\nexport const hideCoordsGetter = () => {\n  return dispatch => {\n    dispatch(uiActions.hideCoordsGetter());\n  };\n};\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport { resetAll } from \"../hooks/use-input\";\nimport { eventsActions } from \"./events\";\nimport { showAlert, showLoader, hideLoader } from \"./ui\";\n\nconst initialState = {\n  user: null,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    loginUser(state, action) {\n      state.user = action.payload.user;\n      state.user.id = action.payload.user._id;\n    },\n\n    logoutUser(state, action) {\n      state.user = null;\n    },\n  },\n});\n\nexport const authActions = authSlice.actions;\n\nexport default authSlice.reducer;\n\nexport const loginUser = (auth, history) => {\n  return async dispatch => {\n    try {\n      dispatch(showLoader());\n      const res = await axios.post(\"/api/v1/users/login\", {\n        email: auth.email.value,\n        password: auth.password.value,\n      });\n\n      dispatch(showAlert(\"success\", res.data.message));\n      dispatch(authActions.loginUser({ user: res.data.user }));\n      localStorage.setItem(\"jwt\", res.data.token);\n\n      resetAll(auth.email, auth.password);\n\n      setTimeout(() => {\n        history.push(\"/\");\n      }, 1000);\n    } catch (err) {\n      dispatch(showAlert(\"error\", err.response.data.message));\n    }\n    dispatch(hideLoader());\n  };\n};\n\nexport const signupUser = (creds, history) => {\n  return async dispatch => {\n    try {\n      dispatch(showLoader());\n      const res = await axios.post(\"/api/v1/users/signup\", {\n        name: creds.name.value,\n        email: creds.email.value,\n        password: creds.password.value,\n        passwordConfirm: creds.confirmPassword.value,\n      });\n\n      dispatch(showAlert(\"success\", res.data.message));\n      dispatch(authActions.loginUser({ user: res.data.user }));\n      localStorage.setItem(\"jwt\", res.data.token);\n\n      resetAll(creds.name, creds.email, creds.password, creds.confirmPassword);\n\n      setTimeout(() => {\n        history.push(\"/\");\n      }, 1000);\n    } catch (err) {\n      dispatch(showAlert(\"error\", err.response.data.message));\n    }\n    dispatch(hideLoader());\n  };\n};\n\nexport const forgetPassword = (creds, history) => {\n  return async dispatch => {\n    try {\n      dispatch(showLoader());\n      const res = await axios.post(`/api/v1/users/forget-password`, {\n        email: creds.email.value,\n      });\n\n      dispatch(showAlert(\"success\", res.data.message));\n      resetAll(creds.email);\n    } catch (err) {\n      dispatch(showAlert(\"error\", err.response.data.message));\n    }\n    dispatch(hideLoader());\n  };\n};\n\nexport const resetPassword = (creds, history) => {\n  return async dispatch => {\n    try {\n      dispatch(showLoader());\n      const res = await axios.patch(\n        `/api/v1/users/reset-password/${creds.token}`,\n        {\n          password: creds.newPassword.value,\n          passwordConfirm: creds.confirmPassword.value,\n        }\n      );\n\n      dispatch(showAlert(\"success\", res.data.message));\n      resetAll(creds.newPassword, creds.confirmPassword);\n\n      setTimeout(() => {\n        history.push(\"/login\");\n      }, 1000);\n    } catch (err) {\n      dispatch(showAlert(\"error\", err.response.data.message));\n    }\n    dispatch(hideLoader());\n  };\n};\n\nexport const checkLogin = () => {\n  return async dispatch => {\n    try {\n      dispatch(showLoader());\n      const res = await axios.get(\"/api/v1/users/check-login\");\n      dispatch(authActions.loginUser({ user: res.data.user }));\n    } catch (err) {\n      console.log(err.response);\n    }\n    dispatch(hideLoader());\n  };\n};\n\nexport const logoutUser = (history, user) => {\n  return async dispatch => {\n    if (user) {\n      try {\n        dispatch(showLoader());\n        const res = await axios.get(\"/api/v1/users/logout\");\n\n        dispatch(showAlert(\"success\", res.data.message));\n        localStorage.removeItem(\"jwt\");\n        dispatch(authActions.logoutUser());\n        dispatch(eventsActions.replaceEvents({ events: [] }));\n\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 1000);\n      } catch (err) {\n        dispatch(showAlert(\"error\", err.response.data.message));\n      }\n      dispatch(hideLoader());\n    }\n  };\n};\n\nexport const updateProfile = (creds, user) => {\n  return async dispatch => {\n    if (user)\n      try {\n        dispatch(showLoader());\n        const res = await axios.patch(\"/api/v1/users/update-profile\", {\n          name: creds.name.value,\n          email: creds.email.value,\n        });\n\n        dispatch(showAlert(\"success\", res.data.message));\n        dispatch(authActions.loginUser({ user: res.data.data.user }));\n      } catch (err) {\n        dispatch(showAlert(\"error\", err.response.data.message));\n      }\n    dispatch(hideLoader());\n  };\n};\n\nexport const updatePassword = (creds, user) => {\n  return async dispatch => {\n    if (user) {\n      try {\n        dispatch(showLoader());\n        const res = await axios.patch(\"/api/v1/users/update-password\", {\n          oldPassword: creds.currentPassword.value,\n          password: creds.newPassword.value,\n          passwordConfirm: creds.confirmPassword.value,\n        });\n\n        dispatch(showAlert(\"success\", res.data.message));\n        localStorage.setItem(\"jwt\", res.data.token);\n        resetAll(\n          creds.currentPassword,\n          creds.newPassword,\n          creds.confirmPassword\n        );\n      } catch (err) {\n        dispatch(showAlert(\"error\", err.response.data.message));\n      }\n      dispatch(hideLoader());\n    }\n  };\n};\n","const Input = props => {\n  return (\n    <div className={\"form__group \" + props.className}>\n      <label className=\"form__label\" htmlFor={props.input.id}>\n        {props.label}\n      </label>\n      <input {...props.input} />\n      {props.invalid && <p className=\"input-error\">{props.errorMsg}</p>}\n    </div>\n  );\n};\n\nexport default Input;\n","import { useReducer } from \"react\";\n\nconst inputReducer = (state, action) => {\n  if (action.type === \"VALUE_CHANGE\") {\n    return {\n      value: action.value,\n      isTouched: state.isTouched,\n    };\n  }\n\n  if (action.type === \"INPUT_TOUCH\") {\n    return {\n      value: state.value,\n      isTouched: action.isTouched,\n    };\n  }\n\n  if (action.type === \"INPUT_RESET\") {\n    return {\n      value: \"\",\n      isTouched: false,\n    };\n  }\n\n  return {\n    value: \"\",\n    isTouched: false,\n  };\n};\n\nconst useInput = validator => {\n  const [input, dispatchInput] = useReducer(inputReducer, {\n    value: \"\",\n    isTouched: false,\n  });\n\n  const valueIsValid = validator.validate(input.value);\n  const inputIsInvalid = input.isTouched && !valueIsValid;\n\n  const changeHandler = event => {\n    dispatchInput({ type: \"VALUE_CHANGE\", value: event.target.value });\n  };\n\n  const blurHandler = () => {\n    dispatchInput({ type: \"INPUT_TOUCH\", isTouched: true });\n  };\n\n  const reset = () => {\n    dispatchInput({ type: \"INPUT_RESET\" });\n  };\n\n  const touch = isTouched => {\n    dispatchInput({ type: \"INPUT_TOUCH\", isTouched });\n  };\n\n  const setValue = value => {\n    dispatchInput({ type: \"VALUE_CHANGE\", value });\n  };\n\n  return {\n    value: input.value,\n    isValid: valueIsValid,\n    inputIsInvalid,\n    onChange: changeHandler,\n    onBlur: blurHandler,\n    setValue,\n    touch,\n    reset,\n  };\n};\n\nexport default useInput;\n\nexport const touchAll = (...inputs) => {\n  inputs.forEach(input => input.touch(true));\n};\n\nexport const resetAll = (...inputs) => {\n  inputs.forEach(input => {\n    input.reset();\n  });\n};\n\nexport const validateAll = (...inputs) => {\n  let valid = true;\n\n  inputs.forEach(input => {\n    if (!input.isValid) {\n      valid = false;\n    }\n  });\n\n  return valid;\n};\n"],"sourceRoot":""}