{"version":3,"sources":["components/login/Form.js","pages/Login.js"],"names":["Form","props","history","useHistory","useState","formError","setFormError","dispatchRedux","useDispatch","auth","email","useInput","validate","value","test","password","trim","length","formSubmitHandler","e","a","preventDefault","touchAll","validateAll","message","loginUser","onSubmit","noValidate","className","Input","label","input","id","type","placeholder","onChange","onBlur","invalid","inputIsInvalid","errorMsg","autoComplete","Login","to"],"mappings":"sMAwEeA,EAjEF,SAAAC,GACX,IAAMC,EAAUC,cADI,EAEcC,mBAAS,MAFvB,mBAEbC,EAFa,KAEFC,EAFE,KAGdC,EAAgBC,cAEhBC,EAAO,CACXC,MAAOC,YAAS,CACdC,SAAU,SAAAC,GAAK,MAAI,oCAAoCC,KAAKD,MAE9DE,SAAUJ,YAAS,CAAEC,SAAU,SAAAC,GAAK,OAAIA,EAAMG,OAAOC,QAAU,MAG3DC,EAAiB,uCAAG,WAAMC,GAAN,SAAAC,EAAA,yDACxBD,EAAEE,iBACFf,EAAa,MACbgB,YAASb,EAAKC,MAAOD,EAAKM,UAErBQ,YAAYd,EAAKC,MAAOD,EAAKM,UALV,uBAMtBT,EAAa,CAAEkB,QAAS,uCANF,0BAUxBjB,EAAckB,YAAUhB,EAAMP,IAVN,2CAAH,sDAavB,OACE,uBAAMwB,SAAUR,EAAmBS,YAAU,EAACC,UAAU,mBAAxD,UACGvB,GAAa,mBAAGuB,UAAU,aAAb,SAA2BvB,EAAUmB,UACnD,cAACK,EAAA,EAAD,CACEC,MAAM,gBACNC,MAAO,CACLH,UAAW,cACXI,GAAI,QACJC,KAAM,QACNC,YAAa,kBACbrB,MAAOJ,EAAKC,MAAMG,MAClBsB,SAAU1B,EAAKC,MAAMyB,SACrBC,OAAQ3B,EAAKC,MAAM0B,QAErBC,QAAS5B,EAAKC,MAAM4B,eACpBC,SAAS,gCAEX,cAACV,EAAA,EAAD,CACED,UAAU,WACVE,MAAM,WACNC,MAAO,CACLH,UAAW,cACXI,GAAI,WACJC,KAAM,WACNC,YAAa,mDACbrB,MAAOJ,EAAKM,SAASF,MACrBsB,SAAU1B,EAAKM,SAASoB,SACxBC,OAAQ3B,EAAKM,SAASqB,OACtBI,aAAc,OAEhBH,QAAS5B,EAAKM,SAASuB,eACvBC,SAAS,+CAEX,qBAAKX,UAAU,cAAf,SACE,wBAAQA,UAAU,iBAAlB,yBChDOa,UAfD,SAAAxC,GACZ,OACE,sBAAM2B,UAAU,OAAhB,SACE,sBAAKA,UAAU,aAAf,UACE,oBAAIA,UAAU,6BAAd,mCACA,cAAC,EAAD,IACA,oBAAGA,UAAU,kBAAb,8CACoC,IAClC,cAAC,IAAD,CAAMc,GAAG,mBAAT","file":"static/js/5.f8453409.chunk.js","sourcesContent":["import { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { loginUser } from \"../../store/auth\";\nimport useInput, { touchAll, validateAll } from \"../../hooks/use-input\";\nimport Input from \"../ui/Input\";\n\nconst Form = props => {\n  const history = useHistory();\n  const [formError, setFormError] = useState(null);\n  const dispatchRedux = useDispatch();\n\n  const auth = {\n    email: useInput({\n      validate: value => /^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/.test(value),\n    }),\n    password: useInput({ validate: value => value.trim().length >= 8 }),\n  };\n\n  const formSubmitHandler = async e => {\n    e.preventDefault();\n    setFormError(null);\n    touchAll(auth.email, auth.password);\n\n    if (!validateAll(auth.email, auth.password)) {\n      setFormError({ message: \"Provide valid details to continue.\" });\n      return;\n    }\n\n    dispatchRedux(loginUser(auth, history));\n  };\n\n  return (\n    <form onSubmit={formSubmitHandler} noValidate className=\"form form--login\">\n      {formError && <p className=\"form-error\">{formError.message}</p>}\n      <Input\n        label=\"Email address\"\n        input={{\n          className: \"form__input\",\n          id: \"email\",\n          type: \"email\",\n          placeholder: \"you@example.com\",\n          value: auth.email.value,\n          onChange: auth.email.onChange,\n          onBlur: auth.email.onBlur,\n        }}\n        invalid={auth.email.inputIsInvalid}\n        errorMsg=\"Provide valid email address\"\n      />\n      <Input\n        className=\"ma-bt-md\"\n        label=\"Password\"\n        input={{\n          className: \"form__input\",\n          id: \"password\",\n          type: \"password\",\n          placeholder: \"••••••••\",\n          value: auth.password.value,\n          onChange: auth.password.onChange,\n          onBlur: auth.password.onBlur,\n          autoComplete: \"off\",\n        }}\n        invalid={auth.password.inputIsInvalid}\n        errorMsg=\"Password must be greater than 7 characters\"\n      />\n      <div className=\"form__group\">\n        <button className=\"btn btn--green\">Login</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Form;\n","import { Link } from \"react-router-dom\";\nimport Form from \"../components/login/Form\";\n\nconst Login = props => {\n  return (\n    <main className=\"main\">\n      <div className=\"login-form\">\n        <h2 className=\"heading-secondary ma-bt-lg\">Log into your account</h2>\n        <Form />\n        <p className=\"forgot-password\">\n          Couldn't remember your password ?{\" \"}\n          <Link to=\"/forget-password\">click here</Link>\n        </p>\n      </div>\n    </main>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}